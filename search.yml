openapi: 3.0.0
info:
  description: Search Engine API
  version: 3.1.1-oas3
  title: Search Engine
  contact:
    email: poetri.heriningtyas@hukumonline.com
  license:
    name: HukumOnline
    url: http://search.hukumonline.com
tags:
  - name: search
    description: 
paths:
  /all:
    get:
      summary: Get search result in all categories
      tags:
        - search
      parameters:
        - $ref: '#/components/parameters/queryParam'
        - $ref: '#/components/parameters/languageParam'
        - $ref: '#/components/parameters/sortParam'
        - $ref: '#/components/parameters/orderParam'
        - $ref: '#/components/parameters/fromParam'
        - $ref: '#/components/parameters/sizeParam'
      responses:
        '200':
          description: Search results
          content:
            '*/*':
              schema:
                properties:
                  data:
                    anyOf:
                      - $ref: '#/components/schemas/DataRegulations'
                      - $ref: '#/components/schemas/DataAnalyses'
                      - $ref: '#/components/schemas/DataDecisions'
                      - $ref: '#/components/schemas/DataArticles'
                      - $ref: '#/components/schemas/DataClinics'
                      - $ref: '#/components/schemas/DataEvents'
                  metadata:
                    $ref: '#/components/schemas/Metadata'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                  filter:
                    $ref: '#/components/schemas/FilterAll'
        '204':
          description: Content not found
        '404':
          description: Bad Query
        '500':
          description: Internal Server Error
  /regulations:
    get:
      summary: Get search result in regulations category
      tags:
        - search
      parameters:
        - $ref: '#/components/parameters/queryParam'
        - $ref: '#/components/parameters/languageParam'
        - $ref: '#/components/parameters/hierarchyParam'
        - $ref: '#/components/parameters/legal_statusParam'
        - $ref: '#/components/parameters/consolidatedParam'
        - $ref: '#/components/parameters/yearParam'
        - $ref: '#/components/parameters/sortParam'
        - $ref: '#/components/parameters/orderParam'
        - $ref: '#/components/parameters/fromParam'
        - $ref: '#/components/parameters/sizeParam'
      responses:
        '200':
          description: Search results
          content:
            '*/*':
              schema:
                properties:
                  data:
                    $ref: '#/components/schemas/DataRegulations'
                  metadata:
                    $ref: '#/components/schemas/Metadata'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                  filter:
                    $ref: '#/components/schemas/FilterRegulations'
        '204':
          description: Content not found
        '404':
          description: Bad Query
        '500':
          description: Internal Server Error
  /analyses:
    get:
      summary: Get search result in analyses category
      tags:
        - search
      parameters:
        - $ref: '#/components/parameters/queryParam'
        - $ref: '#/components/parameters/languageParam'
        - $ref: '#/components/parameters/cat_analysesParam'
        - $ref: '#/components/parameters/sortParam'
        - $ref: '#/components/parameters/orderParam'
        - $ref: '#/components/parameters/fromParam'
        - $ref: '#/components/parameters/sizeParam'
      responses:
        '200':
          description: Search results
          content:
            '*/*':
              schema:
                properties:
                  data:
                    $ref: '#/components/schemas/DataAnalyses'
                  metadata:
                    $ref: '#/components/schemas/Metadata'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                  filter:
                    $ref: '#/components/schemas/FilterAnalyses'
        '204':
          description: Content not found
        '404':
          description: Bad Query
        '500':
          description: Internal Server Error
  /decisions:
    get:
      summary: Get search result in decisions category
      tags:
        - search
      parameters:
        - $ref: '#/components/parameters/queryParam'
        - $ref: '#/components/parameters/precedenceParam'
        - $ref: '#/components/parameters/category_of_courtParam'
        - $ref: '#/components/parameters/court_processParam'
        - $ref: '#/components/parameters/rulingParam'
        - $ref: '#/components/parameters/yearParam'
        - $ref: '#/components/parameters/sortParam'
        - $ref: '#/components/parameters/orderParam'
        - $ref: '#/components/parameters/fromParam'
        - $ref: '#/components/parameters/sizeParam'
      responses:
        '200':
          description: Search results
          content:
            '*/*':
              schema:
                properties:
                  data:
                    $ref: '#/components/schemas/DataDecisions'
                  metadata:
                    $ref: '#/components/schemas/Metadata'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                  filter:
                    $ref: '#/components/schemas/FilterDecisions'
        '204':
          description: Content not found
        '404':
          description: Bad Query
        '500':
          description: Internal Server Error
  /articles:
    get:
      summary: Get search result in news category
      tags:
        - search
      parameters:
        - $ref: '#/components/parameters/queryParam'
        - $ref: '#/components/parameters/rubricsParam'
        - $ref: '#/components/parameters/sortParam'
        - $ref: '#/components/parameters/orderParam'
        - $ref: '#/components/parameters/fromParam'
        - $ref: '#/components/parameters/sizeParam'
      responses:
        '200':
          description: Search results
          content:
            '*/*':
              schema:
                properties:
                  data:
                    $ref: '#/components/schemas/DataArticles'
                  metadata:
                    $ref: '#/components/schemas/Metadata'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                  filter:
                    $ref: '#/components/schemas/FilterArticles'
        '204':
          description: Content not found
        '404':
          description: Bad Query
        '500':
          description: Internal Server Error
  /clinics:
    get:
      summary: Get search result in clinics category
      tags:
        - search
      parameters:
        - $ref: '#/components/parameters/queryParam'
        - $ref: '#/components/parameters/languageParam'
        - $ref: '#/components/parameters/cat_clinicsParam'
        - $ref: '#/components/parameters/sortParam'
        - $ref: '#/components/parameters/orderParam'
        - $ref: '#/components/parameters/fromParam'
        - $ref: '#/components/parameters/sizeParam'
      responses:
        '200':
          description: Search results
          content:
            '*/*':
              schema:
                properties:
                  data:
                    $ref: '#/components/schemas/DataClinics'
                  metadata:
                    $ref: '#/components/schemas/Metadata'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                  filter:
                    $ref: '#/components/schemas/FilterClinics'
        '204':
          description: Content not found
        '404':
          description: Bad Query
        '500':
          description: Internal Server Error
  /events:
    get:
      summary: Get search result in events category
      tags:
        - search
      parameters:
        - $ref: '#/components/parameters/queryParam'
        - $ref: '#/components/parameters/sortParam'
        - $ref: '#/components/parameters/orderParam'
        - $ref: '#/components/parameters/fromParam'
        - $ref: '#/components/parameters/sizeParam'
      responses:
        '200':
          description: Search results
          content:
            '*/*':
              schema:
                properties:
                  data:
                    $ref: '#/components/schemas/DataEvents'
                  metadata:
                    $ref: '#/components/schemas/Metadata'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '204':
          description: Content not found
        '404':
          description: Bad Query
        '500':
          description: Internal Server Error
servers:
  - url: https://api.hukum.io/v3/search
components:
  schemas:
    Metadata:
      type: object
      description: metadata hasil pencarian
      properties:
        index:
          type: string
        took:
          type: integer
        timed_out:
          type: boolean
    Pagination:
      type: object
      description: jumlah dokumen per halaman
      properties:
        total_result:
          type: integer
        total_page:
          type: integer
        current_page:
          type: integer
    FilterAll:
      type: object
      description: filter pencarian all
      properties:
        language:
          type: array
          description: bahasa [en, id] default id
          items:
            type: object
            properties:
              key:
                type: string
              doc_count:
                type: integer
    FilterRegulations:
      type: object
      description: filter pencarian peraturan
      properties:
        language:
          type: array
          description: bahasa [en, id] default id
          items:
            type: object
            properties:
              key:
                type: string
              doc_count:
                type: integer
        hierarchy:
          type: array
          description: hirarki pertaturan
          items:
            type: object
            properties:
              key:
                type: string
              doc_count:
                type: integer
        legal_status:
          type: array
          description: status hukum
          items:
            type: object
            properties:
              key:
                type: string
              doc_count:
                type: integer
        consolidated:
          type: array
          description: tipe dokumen
          items:
            type: object
            properties:
              key:
                type: string
              doc_count:
                type: integer
        year:
          type: array
          description: tahun
          items:
            type: object
            properties:
              key:
                type: string
              doc_count:
                type: integer
    FilterAnalyses:
      type: object
      description: filter pencarian analisis
      properties:
        language:
          type: array
          description: bahasa [en, id] default id
          items:
            type: object
            properties:
              key:
                type: string
              doc_count:
                type: integer
        categories:
          type: array
          description: kategori analisis
          items:
            type: object
            properties:
              key:
                type: string
              doc_count:
                type: integer
    FilterDecisions:
      type: object
      description: filter pencarian putusan
      properties:
        precedence:
          type: array
          description: tipe putusan
          items:
            type: object
            properties:
              key:
                type: string
              doc_count:
                type: integer
        category_of_court:
          type: array
          description: jenis pengadilan
          items:
            type: object
            properties:
              key:
                type: string
              doc_count:
                type: integer
        court_process:
          type: array
          description: tipe pengadilan
          items:
            type: object
            properties:
              key:
                type: string
              doc_count:
                type: integer
        ruling:
          type: array
          description: amar putusan
          items:
            type: object
            properties:
              key:
                type: string
              doc_count:
                type: integer
    FilterArticles:
      type: object
      description: filter pencarian berita
      properties:
        language:
          type: array
          description: bahasa [en, id] default id
          items:
            type: object
            properties:
              key:
                type: string
              doc_count:
                type: integer
        rubrics:
          type: array
          description: rubrik berita
          items:
            type: object
            properties:
              key:
                type: string
              doc_count:
                type: integer
    FilterClinics:
      type: object
      description: filter pencarian klinik
      properties:
        language:
          type: array
          description: bahasa [en, id] default id
          items:
            type: object
            properties:
              key:
                type: string
              doc_count:
                type: integer
        categories:
          type: array
          description: kategori klinik
          items:
            type: object
            properties:
              key:
                type: string
              doc_count:
                type: integer

    DataRegulations:
      type: array
      description: document information
      items:
        type: object
        properties:
          index:
            type: string
            description: nama index
          language:
            type: string
            description: language
          legal_status:
            type: string
            description: legal status
          translation:
            type: boolean
            description: translasi
          guid_ilb:
            type: string
            description: guid ilb
          guid_ild:
            type: string
            description: guid ild
          legal_bases:
            type: string
            description: legal bases
          legacy_id:
            type: string
            description: legacy id
          slug:
            type: string
            description: slug
          profile_guid:
            type: string
            description: guid
          consolidated:
            type: boolean
            description: konsolidasi
          established_at:
            type: string
            format: date-time
            description: tanggal dibuat
          enforced_at:
            type: string
            format: date-time
            description: tanggal berlaku
          highlight:
            type: object
            description: highlight
            properties:
              subtitle:
                type: array
                items:
                  type: string
              title.id:
                type: array
                items:
                  type: string
              subtitle.id:
                type: array
                items:
                  type: string
              title:
                type: array
                items:
                  type: string
              content_plaintext:
                type: array
                items:
                  type: string
    DataAnalyses:
      type: array
      description: document information
      items:
        type: object
        properties:
          index:
            type: string
            description: nama index
          language:
            type: string
            description: language
          categories:
            type: string
            description: kategori analisis
          slug:
            type: string
            description: slug
          rubrics:
            type: string
            description: rubrics
          legacy_id:
            type: string
            description: legacy id
          id:
            type: string
            description: id
          highlight:
            type: object
            description: highlight
            properties:
              intro:
                type: array
                items:
                  type: string
              title.id:
                type: array
                items:
                  type: string
              title:
                type: array
                items:
                  type: string
              content_plaintext:
                type: array
                items:
                  type: string
    DataDecisions:
      type: array
      description: document information
      items:
        type: object
        properties:
          index:
            type: string
            description: nama index
          legacy_id:
            type: string
            description: legacy id
          range:
            type: string
            description: range
          current_page:
            type: string
            description: slug
          chief_judge:
            type: string
            description: hakim ketua
          member_of_judges:
            type: string
            description: hakim anggota
          ruling:
            type: string
            description: amar
          category_of_court:
            type: string
            description: jenis pengadilan
          court_process:
            type: string
            description: tipe pengadilan
          yurisprudensi:
            type: boolean
            description: tipe putusan [precedent, non-precedent]
          established_at:
            type: string
            format: date-time
            description: tanggal dibuat
          stated_at:
            type: string
            format: date-time
            description: tanggal dinyatakan
          highlight:
            type: object
            description: highlight
            properties:
              title.id:
                type: array
                items:
                  type: string
              title:
                type: array
                items:
                  type: string
              subtitle.id:
                type: array
                items:
                  type: string
              content_plaintext:
                type: array
                items:
                  type: string
    DataArticles:
      type: array
      description: document information
      items:
        type: object
        properties:
          index:
            type: string
            description: nama index
          legacy_id:
            type: string
            description: legacy id
          slug:
            type: string
            description: slug
          rubrics:
            type: array
            items:
              type: string
          featured_image:
            type: array
            items:
              type: object
          highlight:
            type: object
            description: highlight
            properties:
              title.id:
                type: array
                items:
                  type: string
              title:
                type: array
                items:
                  type: string
              intro:
                type: array
                items:
                  type: string
              content_plaintext:
                type: array
                items:
                  type: string
    DataClinics:
      type: array
      description: document information
      items:
        type: object
        properties:
          index:
            type: string
            description: nama index
          language:
            type: string
            description: language
          legacy_id:
            type: string
            description: legacy id
          slug:
            type: string
            description: slug
          id:
            type: string
            description: id
          categories:
            type: array
            items:
              type: string
          featured_image:
            type: array
            items:
              type: object
          highlight:
            type: object
            description: highlight
            properties:
              title.id:
                type: array
                items:
                  type: string
              title:
                type: array
                items:
                  type: string
              question_plaintext:
                type: array
                items:
                  type: string
              answer_plaintext:
                type: array
                items:
                  type: string
    DataEvents:
      type: array
      description: document information
      items:
        type: object
        properties:
          index:
            type: string
            description: nama index
          legacy_id:
            type: string
            description: legacy id
          slug:
            type: string
            description: slug
          highlight:
            type: object
            description: highlight
            properties:
              title.id:
                type: array
                items:
                  type: string
              title:
                type: array
                items:
                  type: string
              intro:
                type: array
                items:
                  type: string
                  
  parameters:
    queryParam:
      name: q
      in: query
      required: true
      description: keywords
      schema:
        type: string
    languageParam:
      name: language
      in: query
      required: false
      description: language
      schema:
        type: string
        enum:
          - id
          - en
        default: id
    sortParam:
      name: sort
      in: query
      required: true
      description: sort by relevancy and date
      schema:
        type: string
        enum:
          - relevancy
          - date
    orderParam:
      name: order
      in: query
      required: true
      description: order of search result
      schema:
        type: string
        enum:
          - asc
          - desc
    fromParam:
      name: from
      in: query
      required: true
      description: pagination - current page
      schema:
        type: integer
    sizeParam:
      name: size
      in: query
      required: true
      description: pagination - results per page
      schema:
        type: integer
    yearParam:
      name: year
      in: query
      required: false
      description: tahun
      schema:
        type: string
    hierarchyParam:
      name: hierarchy
      in: query
      required: false
      description: hirarki peraturan
      schema:
        type: string
        enum:
              - Semua #Semua hirarki peraturan split by comma dibikin parameter baru biar ga kepanjangan
              - tap MPR
              - tus MPR
              - uu
              - Undang-Undang Darurat
              - perpu
              - pp
              - perpres
              - penpres
              - keppres
              - inpres
              - kepmen
              - permen
              - inmen
              - Peraturan Daerah Tingkat II
              - Peraturan Bupati/Walikota
              - Peraturan Daerah Tingkat I
              - Peraturan Lembaga/Badan
              - Peraturan Gubernur
              - Keputusan Bupati/Walikota
              - Surat Edaran Lembaga/Badan
              - Peraturan Direktur Jenderal
              - keputusan gubernur
              - Peraturan Kepala/Ketua Lembaga
              - Surat Edaran Menteri
              - Surat Edaran Direksi
              - Surat Edaran Bupati/Walikota
              - Keputusan Bersama
              - Keputusan Direksi
              - Peraturan Komisi
              - Surat Direktur Jenderal
              - Peraturan Direksi
              - Instruksi Gubernur
              - Surat Edaran Kepala/Ketua Lembaga
              - Surat Lembaga/Badan
              - Instruksi Bupati/Walikota
              - Surat Edaran Gubernur
              - Keputusan Lembaga/Badan
              - Surat Menteri
              - Instruksi Direktur Jenderal
              - Surat Edaran Menteri Negara/
              - Surat Kepala/Ketua Lembaga/Badan
              - Surat Gubernur
              - Surat Direktur
              - Keputusan Komisi
              - Surat Edaran Direktur
              - Surat Direksi
              - Keputusan Dewan
    legal_statusParam:
      name: legal_status
      in: query
      required: false
      description: status hukum
      schema:
        type: string
        enum:
              - Belum Dicabut/Diubah
              - Telah Dicabut
              - Telah Dicabut Sebagian
              - Telah Diubah
              - Telah Diubah & Dicabut Sebagian
    consolidatedParam: 
      name: consolidated
      in: query
      required: false
      description: tipe dokumen
      schema:
        type: string
        enum:
              - Non-Konsolidasi
              - Konsolidasi
    cat_analysesParam:
      name: categories
      in: query
      required: false
      description: kategori analisis
      schema:
        type: string
        enum:
              - Semua Analisis
              - Legal Brief
              - Law Digest
              - Law Review
              - Opinion
              - Policy Update
              - Article
              - Regulation Update
              - Consumer_goods
              - Finanacial_services
    precedenceParam:
      name: precedence
      in: query
      required: false
      description: tipe putusan
      schema:
        type: string
        enum:
              - Non-Precedent
              - Precedent
    category_of_courtParam:
      name: category_of_court
      in: query
      required: false
      description: jenis pengadilan
      schema:
        type: string
        enum:
              - Semua Jenis Pengadilan
              - Mahkamah Konstitusi
              - Mahkamah Agung
              - Pengadilan Tinggi
              - Pengadilan Negeri
              - Pengadilan Niaga
              - Pengadilan Tinggi Tata Usaha Negara
              - Pengadilan Tata Usaha Negara
              - Pengadilan Tinggi Agama
              - Pengadilan Agama
              - Komisi
    court_processParam:
      name: court_process
      in: query
      required: false
      description: tingkat proses
      schema:
        type: string
        enum:
              - Pertama
              - Putusan Sela
              - Banding
              - Kasasi
              - Peninjauan Kembali
              - Penetapan
              - Khusus
    rulingParam:
      name: ruling
      in: query
      required: false
      description: amar putusan
      schema:
        type: string
        enum:
              - Ditolak
              - Dikabulkan Sebagian
              - Dikabulkan
              - Terbukti
              - Tidak Dapat Diterima
    rubricsParam:
      name: rubrics
      in: query
      required: false
      description: kategori artikel
      schema:
        type: string
        enum:
              - Semua Kategori
              - Berita
              - Aktual
              - Utama
              - Foto
              - Kolom
              - Pojok MPR RI
              - Jeda
              - Stories
              - Fokus
              - Agenda
    cat_clinicsParam:
      name: categories
      in: query
      required: false
      description: kategori klinik
      schema:
        type: string
        enum:
              - Semua Kategori
              - Pidana
              - Bisnis
              - Ketenagakerjaan
              - Perdata
              - Kenegaraan
              - Keluarga
              - Pertanahan & Properti
              - Ilmu Hukum
              - Kekayaan Intelektual
              - Profesi Hukum
